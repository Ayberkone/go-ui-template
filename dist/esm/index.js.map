{"version":3,"file":"index.js","sources":["../../src/Hook/useGameCollection.js","../../src/Hook/useCard.js","../../src/Context/GameCollectionRSS.js","../../src/Hook/useGameCollectionRSS.js","../../src/Card/Card.js","../../src/CardList/List.js","../../src/Home/Home.js"],"sourcesContent":["import React from \"react\";\n\nconst useGameCollection = collection => {\n  const [gameList, setGameList] = React.useState([]);\n\n  const fetchData = async () => {\n    if (!collection) {\n      setGameList([]);\n    } else {\n      const result = await collection.getItems();\n      const data = result.data;\n\n      if (data !== undefined && data.length) {\n        result.data.forEach(game => {\n          let parts = game.url.split(\"/\");\n          game.id = parts[parts.length - 2];\n        });\n        setGameList(result.data);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    fetchData();\n  }, [collection]);\n\n  return gameList;\n};\n\nexport default useGameCollection;\n","import React from \"react\";\n\nconst context = {\n    url: null\n    , header: null\n};\n\nconst useCard = item => {\n    const [gameContext, setGameContext] = React.useState(context);\n\n    const updateData = () => {\n        const dataContext = {\n            url: item.assetList[0].name\n            , header: item.title\n        };\n        setGameContext(dataContext);\n    }\n    React.useEffect(() => {\n       if(item != undefined) updateData();\n    }, [item]);\n\n    return gameContext;\n};\n\nexport default useCard;\n","import axios from \"axios\";\nimport querystring from \"querystring\";\n\nconst DEFAULT_AMOUNT = 5;\nconst DEFAULT_PAGE = 1;\n\nclass GameCollectionRSS {\n  constructor(url, config) {\n    let [basicUrl, query] = url.split(\"?\");\n    query = querystring.parse(query);\n    query.amount = query.amount || DEFAULT_AMOUNT;\n    query.page = query.page || DEFAULT_PAGE;\n    this.basicUrl = basicUrl;\n    this.query = query;\n    this.config = config;\n  }\n\n  getItems() {\n    const url = this.basicUrl + \"?\" + querystring.stringify(this.query);\n    return axios.get(url);\n  }\n}\n\nexport default GameCollectionRSS;\n","import React, { useState, useEffect } from \"react\";\nimport { GameCollectionRSS } from \"../Context/index\";\nimport format from \"string-format\";\n\nconst useGameCollectionRSS = config => {\n  const [rss, setRSS] = useState(null);\n\n  useEffect(() => {\n\n    let appliedConfig = {\n      company: config.company || \"All\",\n      collection: config.collection || \"all\",\n      category: config.category || \"all\",\n      type: config.type || \"all\",\n      amount: config.amount || \"100\",\n      mobile: config.mobile || \"all\",\n      rewarded: config.rewarded || \"all\",\n      title: config.title || config.category\n    };\n\n    let url =\n      config.url ||\n      `/proxy/rss/api/v1.0/rss/{company}/?collection={collection}&categories={category}&type={type}&mobile={mobile}&rewarded={rewarded}&format=json&amount={amount}`;\n\n    url = format(url, appliedConfig);\n    appliedConfig.url = appliedConfig.url;\n\n    setRSS(new GameCollectionRSS(url, appliedConfig));\n  }, [config]);\n\n  return rss;\n};\n\nexport default useGameCollectionRSS;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from \"@material-ui/core\";\nimport { useCard } from '../Hook/index';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        color: \"white\",\n        font: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n        background: \"black\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        maxWidth: \"240px\",\n        position: \"relative\",\n        border: \"5px solid black\",\n        \"& > img\": {\n            width: \"100%\",\n            height: \"100%\",\n        },\n    },\n    header: {\n        background: \"radial-gradient(transparent 0%, black 100%)\",\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0\",\n        left: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"center\",\n    }\n}));\n\nconst Card = props => {\n    const classes = useStyles();\n    const { item, image, header } = classes;\n\n    const { data } = props;\n    const card = useCard(data);\n\n    const [url, setUrl] = useState(null);\n    const [title, setTitle] = useState(null);\n\n    useEffect(() => {\n        const {url,header} = card;\n        setUrl(url);\n        setTitle(header);\n    }, [card]);\n\n    return (\n        <div className={item} >\n            <img className={image} src={url} />\n            <div className={header}>\n                <h4>{title}</h4>\n            </div>\n        </div>\n    )\n}\n\nexport default Card;","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from \"@material-ui/core\";\nimport { useGameCollection } from '../Hook/index';\nimport { Card } from '../Card/index';\n\nconst useStyles = makeStyles(theme => ({\n    box: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: \"100%\",\n        height: \"100%\",\n        justifyContent:\"center\",\n        alignItems:\"center\",\n    }\n}));\n\nconst List = props => {\n    const classes = useStyles();\n    const { box } = classes;\n\n    const { collection } = props;\n    const list = useGameCollection(collection);\n\n    return (\n        <div className={box} >\n\n            {\n                list.map((item, index) => <Card data={item} key={index} />)\n            }\n\n        </div>\n    )\n}\n\nexport default List;","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { List } from '../CardList/index';\nimport { useGameCollectionRSS } from '../Hook/index';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        overflow: \"hidden\",\n        background: \"black\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nfunction Home(props) {\n\n    const classes = useStyles();\n    const { root } = classes;\n\n    const { data } = props;\n    const { game } = data;\n\n    const collection = useGameCollectionRSS(game);\n\n    return (\n        <div className={root}>\n            <List collection={collection} />\n        </div>\n    );\n}\n\n\nexport default Home;\n"],"names":["useGameCollection","collection","React","useState","gameList","setGameList","fetchData","getItems","result","data","undefined","length","forEach","game","parts","url","split","id","useEffect","context","header","useCard","item","gameContext","setGameContext","updateData","dataContext","assetList","name","title","DEFAULT_AMOUNT","DEFAULT_PAGE","GameCollectionRSS","config","basicUrl","query","querystring","parse","amount","page","stringify","axios","get","useGameCollectionRSS","rss","setRSS","appliedConfig","company","category","type","mobile","rewarded","format","useStyles","makeStyles","theme","color","font","background","display","flexDirection","maxWidth","position","border","width","height","top","left","justifyContent","alignItems","textAlign","Card","props","classes","image","card","setUrl","setTitle","box","List","list","map","index","root","overflow","Home"],"mappings":"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"}